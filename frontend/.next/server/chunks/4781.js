"use strict";exports.id=4781,exports.ids=[4781],exports.modules={4781:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Analytics});var l=t(784),a=t(9885),d=t(8551),r=t(345);function Analytics(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{fetchAnalytics()},[]);let fetchAnalytics=async()=>{try{let e=localStorage.getItem("envisage_auth_token"),t=await d.Z.get("http://localhost/Envisage/backend/public/api/admin/statistics",{headers:{Authorization:`Bearer ${e}`}});s(t.data)}catch(e){console.error("Failed to load analytics:",e),r.toast.error("Failed to load analytics data")}finally{i(!1)}};if(t)return(0,l.jsx)("div",{className:"flex justify-center py-12",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});let n=e?.revenue?.this_month||0,c=e?.revenue?.last_month||0,x=c>0?((n-c)/c*100).toFixed(1):"0",o=parseFloat(x)>=0?"↑":"↓",m=e?.users?.customers||0,h=e?.orders?.total||0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Reports"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow p-6 text-white",children:[(0,l.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Revenue This Month"}),(0,l.jsxs)("div",{className:"text-3xl font-bold",children:["$",n.toFixed(2)]}),(0,l.jsxs)("div",{className:"text-sm mt-2 opacity-75",children:[o," ",Math.abs(parseFloat(x)),"% from last month"]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow p-6 text-white",children:[(0,l.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Customers"}),(0,l.jsx)("div",{className:"text-3xl font-bold",children:m}),(0,l.jsx)("div",{className:"text-sm mt-2 opacity-75",children:"Registered users"})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow p-6 text-white",children:[(0,l.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Orders"}),(0,l.jsx)("div",{className:"text-3xl font-bold",children:h}),(0,l.jsxs)("div",{className:"text-sm mt-2 opacity-75",children:[e?.orders?.delivered||0," delivered"]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg shadow p-6 text-white",children:[(0,l.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Avg Order Value"}),(0,l.jsxs)("div",{className:"text-3xl font-bold",children:["$",(h>0?n/h:0).toFixed(2)]}),(0,l.jsx)("div",{className:"text-sm mt-2 opacity-75",children:"Per transaction"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,l.jsxs)("span",{className:"font-bold text-gray-900",children:["$",(e?.revenue?.total||0).toFixed(2)]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"100%"}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"}),(0,l.jsxs)("span",{className:"font-bold text-blue-600",children:["$",n.toFixed(2)]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e?.revenue?.total?n/e.revenue.total*100:0}%`}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Last Month"}),(0,l.jsxs)("span",{className:"font-bold text-purple-600",children:["$",c.toFixed(2)]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${e?.revenue?.total?c/e.revenue.total*100:0}%`}})})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Pending"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.orders?.pending||0})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Processing"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.orders?.processing||0})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Delivered"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.orders?.delivered||0})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Cancelled"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.orders?.cancelled||0})]}),(0,l.jsx)("div",{className:"pt-3 border-t",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:"Total Orders"}),(0,l.jsx)("span",{className:"font-bold text-primary-600",children:e?.orders?.total||0})]})})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Inventory"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Active"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.products?.active||0})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Draft"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.products?.draft||0})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Out of Stock"})]}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e?.products?.out_of_stock||0})]}),(0,l.jsx)("div",{className:"pt-3 border-t",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:"Total Products"}),(0,l.jsx)("span",{className:"font-bold text-primary-600",children:e?.products?.total||0})]})})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Overview"}),(0,l.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded",children:(0,l.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,l.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,l.jsx)("p",{children:"Chart visualization coming soon"})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),(0,l.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded",children:(0,l.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,l.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,l.jsx)("p",{children:"Chart visualization coming soon"})]})})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Distribution"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:e?.users?.customers||0}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Customers"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e?.users?.total?(e.users.customers/e.users.total*100).toFixed(1):0,"% of total"]})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:e?.users?.sellers||0}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Sellers"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e?.users?.total?(e.users.sellers/e.users.total*100).toFixed(1):0,"% of total"]})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e?.users?.admins||0}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Admins"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e?.users?.total?(e.users.admins/e.users.total*100).toFixed(1):0,"% of total"]})]})]})]})]})}}};