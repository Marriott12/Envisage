"use strict";exports.id=7152,exports.ids=[7152],exports.modules={7152:(e,s,t)=>{t.d(s,{Z:()=>ProtectedRoute});var r=t(784),l=t(9885),n=t(7114),i=t(3653);function ProtectedRoute({children:e,redirectTo:s="/login",fallback:t,requiredRoles:c=[]}){let{isAuthenticated:a,isLoading:o,user:d}=(0,i.a)(),m=(0,n.useRouter)();if((0,l.useEffect)(()=>{if(!o){if(!a){let e=window.location.pathname;m.push(`${s}?redirect=${encodeURIComponent(e)}`);return}if(c.length>0&&d){let e=d.roles||[],s=c.some(s=>e.includes(s));if(!s){m.push("/marketplace");return}}}},[a,o,d,m,s,c]),o)return t||(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Verifying access..."})]})});if(!a)return null;if(c.length>0&&d){let e=d.roles||[],s=c.some(s=>e.includes(s));if(!s)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center max-w-md mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-yellow-700 mb-4",children:"You don't have permission to access this page."}),(0,r.jsx)("button",{onClick:()=>m.push("/marketplace"),className:"btn-primary px-6 py-2",children:"Go to Marketplace"})]})})})}return(0,r.jsx)(r.Fragment,{children:e})}}};