(()=>{var e={};e.id=8580,e.ids=[8580],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6028:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=t(7096),r=t(6132),n=t(7284),l=t.n(n),i=t(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["admin-panel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5166)),"c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"c:\\wamp64\\www\\Envisage\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx"],x="/admin-panel/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin-panel/page",pathname:"/admin-panel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6061:(e,s,t)=>{Promise.resolve().then(t.bind(t,8297))},8297:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminPanel});var a=t(784),r=t(9885),n=t(7114),l=t(3653),i=t(8551),d=t(8282),c=t(345),o=t(3642),x=t.n(o);let m=x()(()=>t.e(8669).then(t.bind(t,8669)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/UsersManagement"]},ssr:!1}),p=x()(()=>t.e(1288).then(t.bind(t,1288)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/ProductsManagement"]},ssr:!1}),u=x()(()=>t.e(9600).then(t.bind(t,9600)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/OrdersManagement"]},ssr:!1}),g=x()(()=>t.e(1378).then(t.bind(t,1378)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/CategoriesManagement"]},ssr:!1}),h=x()(()=>t.e(861).then(t.bind(t,861)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/SettingsManagement"]},ssr:!1}),j=x()(()=>t.e(8591).then(t.bind(t,8591)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/SystemLogs"]},ssr:!1}),b=x()(()=>t.e(4781).then(t.bind(t,4781)),{loadableGenerated:{modules:["c:\\wamp64\\www\\Envisage\\frontend\\app\\admin-panel\\page.tsx -> @/components/admin/Analytics"]},ssr:!1}),f="http://localhost/Envisage/backend/public/api";function AdminPanel(){let{user:e,isAuthenticated:s,isLoading:t}=(0,l.a)(),o=(0,n.useRouter)(),[x,v]=(0,r.useState)(null),[N,y]=(0,r.useState)(null),[w,D]=(0,r.useState)(!0),[_,C]=(0,r.useState)("overview"),fetchAdminData=async()=>{try{let e=localStorage.getItem("envisage_auth_token"),s=await i.Z.get(`${f}/admin/overview`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});v(s.data);let t=await i.Z.get(`${f}/admin/statistics`,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});y(t.data)}catch(e){console.error("Failed to fetch admin data:",e),c.toast.error(e.response?.data?.message||"Failed to load admin data")}finally{D(!1)}};return((0,r.useEffect)(()=>{if(!t){if(!s){o.push("/login?redirect=/admin-panel");return}let t=e?.role;if("admin"!==t){c.toast.error("Access denied. Admin privileges required."),o.push("/dashboard");return}fetchAdminData()}},[t,s,e,o]),t||w)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive system management"})]})})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("nav",{className:"flex space-x-8 overflow-x-auto","aria-label":"Tabs",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"users",label:"Users",icon:"\uD83D\uDC65"},{id:"products",label:"Products",icon:"\uD83D\uDCE6"},{id:"orders",label:"Orders",icon:"\uD83D\uDED2"},{id:"categories",label:"Categories",icon:"\uD83C\uDFF7️"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCC8"},{id:"settings",label:"Settings",icon:"⚙️"},{id:"logs",label:"Logs",icon:"\uD83D\uDCDD"}].map(e=>(0,a.jsxs)("button",{onClick:()=>C(e.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2
                    ${_===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                  `,children:[(0,a.jsx)("span",{children:e.icon}),e.label]},e.id))})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===_&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(StatCard,{title:"Total Users",value:x?.total_users||0,icon:"\uD83D\uDC65",color:"blue"}),(0,a.jsx)(StatCard,{title:"Total Products",value:x?.total_products||0,icon:"\uD83D\uDCE6",color:"green"}),(0,a.jsx)(StatCard,{title:"Total Orders",value:x?.total_orders||0,icon:"\uD83D\uDED2",color:"purple"}),(0,a.jsx)(StatCard,{title:"Total Revenue",value:`$${(x?.total_revenue||0).toFixed(2)}`,icon:"\uD83D\uDCB0",color:"yellow"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:x?.pending_orders||0})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"⏳"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Requires attention"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Active Products"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:x?.active_products||0})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"✅"})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Currently listed"})]})]}),N&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Users Breakdown"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Customers"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:N.users?.customers||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Sellers"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:N.users?.sellers||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Admins"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:N.users?.admins||0})]}),(0,a.jsx)("div",{className:"pt-3 border-t",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Total"}),(0,a.jsx)("span",{className:"font-bold text-primary-600",children:N.users?.total||0})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Products Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Active"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:N.products?.active||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Draft"}),(0,a.jsx)("span",{className:"font-semibold text-yellow-600",children:N.products?.draft||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Out of Stock"}),(0,a.jsx)("span",{className:"font-semibold text-red-600",children:N.products?.out_of_stock||0})]}),(0,a.jsx)("div",{className:"pt-3 border-t",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Total"}),(0,a.jsx)("span",{className:"font-bold text-primary-600",children:N.products?.total||0})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Orders Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pending"}),(0,a.jsx)("span",{className:"font-semibold text-yellow-600",children:N.orders?.pending||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Processing"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:N.orders?.processing||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Delivered"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:N.orders?.delivered||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Cancelled"}),(0,a.jsx)("span",{className:"font-semibold text-red-600",children:N.orders?.cancelled||0})]}),(0,a.jsx)("div",{className:"pt-3 border-t",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Total"}),(0,a.jsx)("span",{className:"font-bold text-primary-600",children:N.orders?.total||0})]})})]})]})]}),N?.revenue&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",(N.revenue.total||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"This Month"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",(N.revenue.this_month||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Last Month"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",(N.revenue.last_month||0).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(QuickActionButton,{label:"Manage Users",icon:"\uD83D\uDC65",onClick:()=>C("users")}),(0,a.jsx)(QuickActionButton,{label:"Manage Products",icon:"\uD83D\uDCE6",onClick:()=>C("products")}),(0,a.jsx)(QuickActionButton,{label:"View Orders",icon:"\uD83D\uDED2",onClick:()=>C("orders")}),(0,a.jsx)(QuickActionButton,{label:"System Settings",icon:"⚙️",onClick:()=>C("settings")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Users"}),(0,a.jsx)("div",{className:"space-y-3",children:x?.recent_users&&x.recent_users.length>0?x.recent_users.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent users"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),(0,a.jsx)("div",{className:"space-y-3",children:x?.recent_orders&&x.recent_orders.length>0?x.recent_orders.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.total]})]}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:e.status})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent orders"})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(StatusIndicator,{label:"API",status:"online"}),(0,a.jsx)(StatusIndicator,{label:"Database",status:"online"}),(0,a.jsx)(StatusIndicator,{label:"Storage",status:"online"}),(0,a.jsx)(StatusIndicator,{label:"Mail Service",status:"warning"})]})]})]}),"users"===_&&(0,a.jsx)(m,{}),"products"===_&&(0,a.jsx)(p,{}),"orders"===_&&(0,a.jsx)(u,{}),"categories"===_&&(0,a.jsx)(g,{}),"analytics"===_&&(0,a.jsx)(b,{}),"settings"===_&&(0,a.jsx)(h,{}),"logs"===_&&(0,a.jsx)(j,{})]})]})]})}function StatCard({title:e,value:s,icon:t,color:r}){return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s})]}),(0,a.jsx)("div",{className:`${{blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600"}[r]||"bg-gray-100 text-gray-600"} rounded-full p-3 text-2xl`,children:t})]})})}function QuickActionButton({label:e,icon:s,onClick:t}){return(0,a.jsxs)("button",{onClick:t,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,a.jsx)("span",{className:"text-2xl mb-2",children:s}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})]})}function StatusIndicator({label:e,status:s}){let t={online:{color:"bg-green-100 text-green-800",text:"Online"},offline:{color:"bg-red-100 text-red-800",text:"Offline"},warning:{color:"bg-yellow-100 text-yellow-800",text:"Warning"}}[s];return(0,a.jsxs)("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 mb-1",children:e}),(0,a.jsx)("span",{className:`px-2 py-1 text-xs rounded ${t.color}`,children:t.text})]})}},5166:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>d});var a=t(5153);let r=(0,a.createProxy)(String.raw`c:\wamp64\www\Envisage\frontend\app\admin-panel\page.tsx`),{__esModule:n,$$typeof:l}=r,i=r.default,d=i}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[2527,7721,7941,3642,7089,3653,8282],()=>__webpack_exec__(6028));module.exports=t})();