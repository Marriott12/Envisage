"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{1888:function(e,s,l){l.r(s),l.d(s,{default:function(){return Analytics}});var t=l(7437),a=l(2265),d=l(4829),i=l(5925);function Analytics(){var e,s,l,r,n,c,o,x,m,h,u,v,j,g,N,f,b,p,y,w,k,F,_;let[A,C]=(0,a.useState)(null),[S,T]=(0,a.useState)(!0);(0,a.useEffect)(()=>{fetchAnalytics()},[]);let fetchAnalytics=async()=>{try{let e=localStorage.getItem("envisage_auth_token"),s=await d.Z.get("".concat("http://localhost/Envisage/backend/public/api","/admin/statistics"),{headers:{Authorization:"Bearer ".concat(e)}});C(s.data)}catch(e){console.error("Failed to load analytics:",e),i.toast.error("Failed to load analytics data")}finally{T(!1)}};if(S)return(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});let M=(null==A?void 0:null===(e=A.revenue)||void 0===e?void 0:e.this_month)||0,O=(null==A?void 0:null===(s=A.revenue)||void 0===s?void 0:s.last_month)||0,z=O>0?((M-O)/O*100).toFixed(1):"0",L=parseFloat(z)>=0?"↑":"↓",P=(null==A?void 0:null===(l=A.users)||void 0===l?void 0:l.customers)||0,R=(null==A?void 0:null===(r=A.orders)||void 0===r?void 0:r.total)||0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Reports"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow p-6 text-white",children:[(0,t.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Revenue This Month"}),(0,t.jsxs)("div",{className:"text-3xl font-bold",children:["$",M.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-sm mt-2 opacity-75",children:[L," ",Math.abs(parseFloat(z)),"% from last month"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow p-6 text-white",children:[(0,t.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Customers"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:P}),(0,t.jsx)("div",{className:"text-sm mt-2 opacity-75",children:"Registered users"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow p-6 text-white",children:[(0,t.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Orders"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:R}),(0,t.jsxs)("div",{className:"text-sm mt-2 opacity-75",children:[(null==A?void 0:null===(n=A.orders)||void 0===n?void 0:n.delivered)||0," delivered"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg shadow p-6 text-white",children:[(0,t.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Avg Order Value"}),(0,t.jsxs)("div",{className:"text-3xl font-bold",children:["$",(R>0?M/R:0).toFixed(2)]}),(0,t.jsx)("div",{className:"text-sm mt-2 opacity-75",children:"Per transaction"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:["$",((null==A?void 0:null===(c=A.revenue)||void 0===c?void 0:c.total)||0).toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"100%"}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"}),(0,t.jsxs)("span",{className:"font-bold text-blue-600",children:["$",M.toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat((null==A?void 0:null===(o=A.revenue)||void 0===o?void 0:o.total)?M/A.revenue.total*100:0,"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Last Month"}),(0,t.jsxs)("span",{className:"font-bold text-purple-600",children:["$",O.toFixed(2)]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat((null==A?void 0:null===(x=A.revenue)||void 0===x?void 0:x.total)?O/A.revenue.total*100:0,"%")}})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Pending"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(m=A.orders)||void 0===m?void 0:m.pending)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Processing"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(h=A.orders)||void 0===h?void 0:h.processing)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Delivered"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(u=A.orders)||void 0===u?void 0:u.delivered)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Cancelled"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(v=A.orders)||void 0===v?void 0:v.cancelled)||0})]}),(0,t.jsx)("div",{className:"pt-3 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Total Orders"}),(0,t.jsx)("span",{className:"font-bold text-primary-600",children:(null==A?void 0:null===(j=A.orders)||void 0===j?void 0:j.total)||0})]})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Inventory"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Active"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(g=A.products)||void 0===g?void 0:g.active)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Draft"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(N=A.products)||void 0===N?void 0:N.draft)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Out of Stock"})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:(null==A?void 0:null===(f=A.products)||void 0===f?void 0:f.out_of_stock)||0})]}),(0,t.jsx)("div",{className:"pt-3 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Total Products"}),(0,t.jsx)("span",{className:"font-bold text-primary-600",children:(null==A?void 0:null===(b=A.products)||void 0===b?void 0:b.total)||0})]})})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales Overview"}),(0,t.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,t.jsx)("p",{children:"Chart visualization coming soon"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),(0,t.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded",children:(0,t.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,t.jsx)("p",{children:"Chart visualization coming soon"})]})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Distribution"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:(null==A?void 0:null===(p=A.users)||void 0===p?void 0:p.customers)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Customers"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(null==A?void 0:null===(y=A.users)||void 0===y?void 0:y.total)?(A.users.customers/A.users.total*100).toFixed(1):0,"% of total"]})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:(null==A?void 0:null===(w=A.users)||void 0===w?void 0:w.sellers)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Sellers"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(null==A?void 0:null===(k=A.users)||void 0===k?void 0:k.total)?(A.users.sellers/A.users.total*100).toFixed(1):0,"% of total"]})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null==A?void 0:null===(F=A.users)||void 0===F?void 0:F.admins)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Admins"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(null==A?void 0:null===(_=A.users)||void 0===_?void 0:_.total)?(A.users.admins/A.users.total*100).toFixed(1):0,"% of total"]})]})]})]})]})}}}]);