(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{4083:function(e,t,s){Promise.resolve().then(s.bind(s,7736))},7736:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return FavoritesPage}});var a=s(7437),r=s(2265),i=s(732),l=s(4020),n=s(927),c=s(2170),o=s(7227),d=s(1218),m=s(2516),h=s(3827),x=s(4182),u=s(1396),g=s.n(u),p=s(5925);let f=[{id:1,title:"Wireless Bluetooth Headphones",price:129.99,image:"/images/p1.jpg",seller:"Tech Store",rating:4.5,inStock:!0,addedDate:"2025-10-01"},{id:2,title:"Ergonomic Laptop Stand",price:49.99,image:"/images/p2.jpg",seller:"Office Supplies",rating:4.8,inStock:!0,addedDate:"2025-10-03"},{id:3,title:"USB-C Fast Charging Cable",price:15.99,image:"/images/p3.jpg",seller:"Electronics Hub",rating:4.3,inStock:!1,addedDate:"2025-10-05"}];function FavoritesContent(){let{user:e}=(0,m.a)(),[t,s]=(0,r.useState)(f),[x,u]=(0,r.useState)(""),handleRemove=e=>{s(t.filter(t=>t.id!==e)),p.toast.success("Removed from favorites")},handleAddToCart=e=>{p.toast.success("".concat(e.title," added to cart!"))},y=t.filter(e=>e.title.toLowerCase().includes(x.toLowerCase())||e.seller.toLowerCase().includes(x.toLowerCase()));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favorites"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[t.length," ",1===t.length?"item":"items"," saved"]})]}),t.length>0&&(0,a.jsx)("button",{onClick:()=>{s([]),p.toast.success("All favorites cleared")},className:"text-red-600 hover:text-red-700 font-medium",children:"Clear All"})]})}),t.length>0&&(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:(0,a.jsxs)("div",{className:"relative max-w-md",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Search favorites...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),0===y.length?(0,a.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,a.jsx)(n.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:x?"No favorites match your search":"No favorites yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:x?"Try a different search term":"Start adding items to your wishlist by clicking the heart icon on products"}),!x&&(0,a.jsx)(g(),{href:"/marketplace",className:"btn-primary px-6 py-2 inline-block",children:"Browse Products"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map((e,t)=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"h-16 w-16 text-gray-400"})}),!e.inStock&&(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-black/50 flex items-center justify-center",children:(0,a.jsx)("span",{className:"bg-red-600 text-white px-4 py-2 rounded-full text-sm font-medium",children:"Out of Stock"})}),(0,a.jsx)("button",{onClick:()=>handleRemove(e.id),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-red-500"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)(g(),{href:"/products/".concat(e.id),children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 hover:text-primary-600 transition-colors line-clamp-2",children:e.title})}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)("svg",{className:"h-4 w-4 ".concat(s<Math.floor(e.rating)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s)),(0,a.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",e.rating,")"]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["by ",e.seller]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["ZMW ",e.price.toFixed(2)]})}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>handleAddToCart(e),disabled:!e.inStock,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ".concat(e.inStock?"bg-primary-600 text-white hover:bg-primary-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.inStock?"Add to Cart":"Out of Stock"})]}),(0,a.jsxs)("button",{onClick:()=>handleRemove(e.id),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 font-medium transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Remove"})]})]})]})]},e.id))})]})})]})}function FavoritesPage(){return(0,a.jsx)(x.Z,{children:(0,a.jsx)(FavoritesContent,{})})}},4182:function(e,t,s){"use strict";s.d(t,{Z:function(){return ProtectedRoute}});var a=s(7437),r=s(2265),i=s(4033),l=s(2516);function ProtectedRoute(e){let{children:t,redirectTo:s="/login",fallback:n,requiredRoles:c=[]}=e,{isAuthenticated:o,isLoading:d,user:m}=(0,l.a)(),h=(0,i.useRouter)();if((0,r.useEffect)(()=>{if(!d){if(!o){let e=window.location.pathname;h.push("".concat(s,"?redirect=").concat(encodeURIComponent(e)));return}if(c.length>0&&m){let e=m.roles||[],t=c.some(t=>e.includes(t));if(!t){h.push("/marketplace");return}}}},[o,d,m,h,s,c]),d)return n||(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Verifying access..."})]})});if(!o)return null;if(c.length>0&&m){let e=m.roles||[],t=c.some(t=>e.includes(t));if(!t)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center max-w-md mx-auto p-6",children:(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-yellow-700 mb-4",children:"You don't have permission to access this page."}),(0,a.jsx)("button",{onClick:()=>h.push("/marketplace"),className:"btn-primary px-6 py-2",children:"Go to Marketplace"})]})})})}return(0,a.jsx)(a.Fragment,{children:t})}},927:function(e,t,s){"use strict";var a=s(2265);function HeartIcon({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}let r=a.forwardRef(HeartIcon);t.Z=r},7227:function(e,t,s){"use strict";var a=s(2265);function TrashIcon({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}let r=a.forwardRef(TrashIcon);t.Z=r},1218:function(e,t,s){"use strict";var a=s(2265);function HeartIcon({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}let r=a.forwardRef(HeartIcon);t.Z=r}},function(e){e.O(0,[424,858,732,827,971,472,744],function(){return e(e.s=4083)}),_N_E=e.O()}]);